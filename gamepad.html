<!DOCTYPE html>
<html>

<head>
  <title>Tetris</title>
  <meta charset="utf-8">
  <!-- <link rel="stylesheet" href="style.css"> -->
  <!-- <link rel="stylesheet" href="style-nier-automata.css"> -->

  <script type="text/javascript" src="controls.js"></script>
  <script type="text/javascript" src="customisation.js"></script>
  <script type="text/javascript" src="asset-controller.js"></script>
  <script type="text/javascript" src="shape-generation.js"></script>
  <script type="text/javascript" src="shape-ghost.js"></script>
  <script type="text/javascript" src="shape-placement.js"></script>
  <script type="text/javascript" src="shape-rotation.js"></script>
  <script type="text/javascript" src="shape-descent.js"></script>
  <script type="text/javascript" src="temp/temp.js"></script> <!--for convenience in testing, delete later-->
  <script type="text/javascript" src="game.js"></script>
  <script type="text/javascript" src="gamepad.js"></script>

  <script>
    window.addEventListener("load", (event) => {
      populateGameControlsForm();
    });

    setTheme(false);
  </script>
</head>

<body>

  <h1 id="gameTitle">Tetris</h1>

  <div class="backButton">
    <button onclick="location.href = './index.html';">Back to home page</button>
  </div>

  <div class="row">

    <div id="gamepadLogContainer" class="column">
      <div id="gamepadLog">
        <div class="logMessage">Log messages will appear here. Please only connect one gamepad.</div>
      </div>
    </div>

    <div class="column">
      <div id="gamepadDetectionStatusContainer-configuration">
        <div id="gamepadDetectionStatus-configuration">Gamepad not detected.</div>
      </div>

      <table>
        <tr>
          <td><label>Left: </label></td>
          <td><div id="gamepadSettingLeft" class="gamepadSetting">-</div></td>
          <td><button class="gamepadSetButton" onclick="setGamepadControl('left')">Set</button></td>
          <td><button class="gamepadClearButton" onclick="clearGamepadControl('left')">Clear</button></td>
        </tr>
        <tr>
          <td><label>Right: </label></td>
          <td><div id="gamepadSettingRight" class="gamepadSetting">-</div></td>
          <td><button class="gamepadSetButton" onclick="setGamepadControl('right')">Set</button></td>
          <td><button class="gamepadClearButton" onclick="clearGamepadControl('right')">Clear</button></td>
        </tr>
        <tr>
          <td><label>Rotate: </label></td>
          <td><div id="gamepadSettingRotate" class="gamepadSetting">-</div></td>
          <td><button class="gamepadSetButton" onclick="setGamepadControl('rotate')">Set</button></td>
          <td><button class="gamepadClearButton" onclick="clearGamepadControl('rotate')">Clear</button></td>
        </tr>
        <tr>
          <td><label>Place Shape: </label></td>
          <td><div id="gamepadSettingPlaceShape" class="gamepadSetting">-</div></td>
          <td><button class="gamepadSetButton" onclick="setGamepadControl('placeShape')">Set</button></td>
          <td><button class="gamepadClearButton" onclick="clearGamepadControl('placeShape')">Clear</button></td>
        </tr>
        <tr>
          <td><label>Hasten Descent: </label></td>
          <td><div id="gamepadSettingHastenDescent" class="gamepadSetting">-</div></td>
          <td><button class="gamepadSetButton" onclick="setGamepadControl('hastenDescent')">Set</button></td>
          <td><button class="gamepadClearButton" onclick="clearGamepadControl('hastenDescent')">Clear</button></td>
        </tr>
      </table>
    </div>

  </div>

  <div class="row">
    <div id="testGamepadContainer">
      <button id="testGamepadButton" onclick="testGamepadControl()">Test Gamepad Controls</button>
      <p id="testGamepadText">Press an axis or a button. Its corresponding assignment will be logged.</p>
    </div>
  </div>

</body>

</html>